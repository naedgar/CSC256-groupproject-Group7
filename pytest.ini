# pytest.ini
[pytest]
# Allow clean import paths like 'from app.routes import tasks'
pythonpath = .

# Tell pytest where your test files are
testpaths = tests

# Tell pytest what filenames count as tests (exclude standalone tests)
python_files = test_*.py *_test.py
python_functions = test_*

# Ignore standalone Selenium tests that are designed to run directly, not via pytest
# Also ignore demo/educational Playwright built-in fixtures file
# Note: BDD tests ARE included for local runs, but demo file is excluded
addopts = 
    --cov=app
    --cov-report=term-missing
    --cov-report=html
    --ignore=tests/ui/selenium/standalone/test_selenium_standalone.py
    --ignore=tests/health/test_setup_selenium.py
    --ignore=tests/ui/playwright/standalone/test_playwright_standalone.py
    --ignore=tests/health/test_setup_playwright.py
    --ignore=tests/acceptance/bdd_playwright/test_playwright_pytestbdd.py
    
# Note: Selenium UI tests will run in headless mode in CI automatically

# Filter out noisy warnings for cleaner CI output
filterwarnings =
    ignore::ResourceWarning
    ignore::pytest.PytestReturnNotNoneWarning